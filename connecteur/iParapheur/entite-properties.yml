name: iParapheur
type: signature
formulaire:
	page0:
		iparapheur_activate: {name: "Module activé", type: checkbox}
		iparapheur_wsdl: {name: "URL du WSDL"}
		iparapheur_user_certificat: 
			name: "Certificat utilisateur (format P12)"
			type: file
			content-type: application/octet-stream
			onchange: update-certificate
		iparapheur_user_certificat_password: {name: "Mot de passe du certificat utilisateur" , type: password}
		iparapheur_user_key_pem: {type: file, no-show: true}
		iparapheur_user_certificat_pem: {type: file, no-show: true}
		iparapheur_user_key_only_pem:  {type: file, no-show: true}
		iparapheur_login: {name: "Login HTTP"}
		iparapheur_password:  {name: "Mot de passe HTTP", type: password}
		iparapheur_type:
			name: Type iParapheur
			type: externalData
			choice-action: iparapheur-type
			link_name: liste des types
			onchange: update-sous-type
		iparapheur_sous_type:
			name: Sous-type iParapheur
			read-only: true
			type: file
		
action:
	test-iparapheur:
		name: Test de la connexion
		action-class: IParapheurTest
		rule:
			droit_id_u: 'entite:edition'
		
	test-iparapheur-send:
		name: Créer un document test
		action-class: IParapheurTestSend
		rule:
			droit_id_u: 'entite:edition'
			
	update-certificate:
		name: Mettre à jour les certificats
		action-class: UpdateCertificate
		rule:
			role_id_e: no-role
	
	update-sous-type:
		name: Mettre à jour les sous-types
		action-class: UpdateSousType
		rule:
			droit_id_u: 'entite:edition'
			
	iparapheur-type:
		name: name: Liste des type iParapheur
		rule: 
			role_id_e: no-role
		action-class: IparapheurType